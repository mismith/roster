<!DOCTYPE html>
<html lang="en" ng-app="roster-io">
<head>
	<title>Roster IO</title>
	
	<base href="/">
	<meta charset="UTF-8">
	<meta name="viewport" content="initial-scale=1">
	<meta name="mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta name="apple-mobile-web-app-status-bar-style" content="black">
	
	<link rel="apple-touch-icon-precomposed" href="/assets/img/touchicon.png" type="image/png">
	<link rel="shortcut icon" href="/assets/img/touchicon.png" type="image/png">
	<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.css">
	<link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
	<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" type="text/css">
	<link rel="stylesheet" href="/assets/css/base.css" type="text/css">
	
	<!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
</head>
<body ng-controller="AppCtrl" layout="column">

	<div id="app" layout="column" layout-fill>
		<md-toolbar id="header">
			<div class="md-toolbar-tools">
				<h1 flex class="breadcrumbs">
					<a ui-sref="rosters">Roster IO</a>
					<a ng-if="roster" ui-sref="roster({roster: roster.$id})" ng-bind="roster.name"></a>
					<a ng-if="roster && event" ui-sref="event({roster: roster.$id, event: event.$id})" ng-bind="event.name"></a>
				</h1>
				<nav>
					<div ng-if=" ! $me.$id">
						<md-button ng-click="$authThen()" class="md-facebook md-raised" aria-label="Login with Facebook">
							<md-icon md-font-set="fa" class="fa-facebook"></md-icon>
							Login
						</md-button>
					</div>
					<div ng-if="$me.$id">
						<md-menu>
							<div ng-click="$mdOpenMenu()" layout="row" layout-align="center center" aria-label="Open user menu">
								<small hide-sm ng-bind="$me.name"></small>
								&nbsp;
								<md-button class="md-icon-button" aria-label="Open user menu" style="margin-right: 0;">
									<img ng-src="{{ avatar($me.facebook.id) }}" width="48" height="48" class="md-avatar" />
								</md-button>
							</div>
							<md-menu-content width="4">
								<md-menu-item>
									<md-button ng-click="$unauth()" class="md-warn" aria-label="Logout">Logout</md-button>
								</md-menu-item>
							</md-menu-content>
						</md-menu>
					</div>
				</nav>
			</div>
		</md-toolbar>
		<main layout="column" flex ui-view autoscroll="false" id="main"></main>
		<div id="fb-root"></div>
	</div>

	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.1/angular.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.1/angular-animate.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.1/angular-aria.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.1/angular-touch.min.js"></script>
	<script src="//ajax.googleapis.com/ajax/libs/angular_material/0.10.0/angular-material.min.js"></script>
	
	<script src="//cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.13/angular-ui-router.min.js"></script>
	
	<script src="//cdn.firebase.com/js/client/2.2.3/firebase.js"></script>
	<script src="//cdn.firebase.com/libs/angularfire/1.0.0/angularfire.min.js"></script>
	<script src="//cdn.rawgit.com/mismith/angularfire-helper/2.1.3/angularfire-helper.min.js"></script>
	
	<script src="//cdnjs.cloudflare.com/ajax/libs/moment.js/2.9.0/moment.min.js"></script>
	
	<script src="/assets/js/base.min.js"></script>
	<script>
		// Load FB SDK asynchronously
		window.fbAsyncInit = function() {
			FB.init({
				appId:   '842802542454811',
				version: 'v2.2'
			});
		};
		(function(d, s, id) {
			var js, fjs = d.getElementsByTagName(s)[0];
			if (d.getElementById(id)) return;
			js = d.createElement(s); js.id = id;
			js.src = "//connect.facebook.net/en_US/sdk.js";
			fjs.parentNode.insertBefore(js, fjs);
		}(document, 'script', 'facebook-jssdk'));
	</script>
</body>
</html>